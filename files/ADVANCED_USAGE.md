# CialloChat 进阶使用说明 🛠️

你已经基本掌握了 CialloChat 的玩法，想不想让你的 AI 伙伴更听话、更智能，或者在细节上更符合你的口味？请参考这篇进阶指南！

---
## 1. 重要配置项调优 (系统配置) 

还记得我们在 `系统配置` -> `CHATBOT` 界面进行的设置吗？那里还有些“隐藏款”参数，调整一下能让你的体验显著提升！

* **记忆力调整 (`max_context_length`)**
    * 路径：`CHATBOT` -> `INIT_CONFIG` -> `max_context_length`
    * 作用：这个数字决定了 AI 能“记住”多少最近的聊天内容，也就是我们常说的“上下文长度”。数字越大，AI 记性越好，对话就越能承前启后，角色扮演的连贯性也更强
    * 代价：但是，AI 记的东西越多，每次对话消耗的计算资源 (Tokens) 也越多，这意味着可能会更快用完你的 API 免费额度，或者产生更高的费用。
    * 建议：默认值通常已经够用。如果你感觉 AI 总是“忘事儿”，像金鱼一样只有七秒记忆，可以适当把这个值调高一点试试，比如从 `12` 逐步增加到 `15` 或 `20`。但别一下子调得太猛哦！

* **人设遵循度与回复创新性 (`stm_max_fetch_count`, `ltm_max_fetch_count`, `temperature`)**
    * 路径：`CHATBOT` -> `CHAT_CONFIG`
        * `stm_max_fetch_count` (短期记忆检索数量)
        * `ltm_max_fetch_count` (长期记忆检索数量)
    * 作用：这两个 `count` (正整数) 值越高，AI 在组织回复前，会从短期记忆（最近的对话）和长期记忆（历史记忆）中提取更多相关的“记忆片段”进行参考。理论上，这能让 AI 的回复更贴合你为角色设定的“角色卡”（性格、背景等）。
    * 代价：同样，参考的记忆越多，消耗的 Tokens 也会相应增加。
    * 建议：可以小幅提高这两个值来测试效果，比如 `stm_max_fetch_count` 从 `3` 调到 `4`，`ltm_max_fetch_count` 从 `6` 调到 `8`。

    * 路径： `CHATBOT` -> `CHAT_CONFIG` -> `temperature` (温度)
    * 作用：这个参数非常关键，它控制 AI 回答的“创造性”或者说“发散程度”。
        * **较低的值** ：AI 的回答会更倾向于保守和确定性，更严格地基于已有信息和逻辑，回复内容可能比较“稳妥”，但有时略显刻板。
        * **较高的值** ：AI 的回答会更有想象力，更可能蹦出一些意想不到的、有趣的句子，让对话更有惊喜。但过高的值也可能导致 AI “放飞自我”，说出一些不着边际甚至逻辑混乱的话（俗称“发癫”）。
        * **对于DeepSeek** ：目前的模型在温度为0.3左右时有着不错的效果
    * 建议：如果你希望角色严格按照你的人设说话，保持一致性，可以适当调低 `temperature`。如果你希望角色更有“灵性”，能带来更多未知的可能性，可以适当调高它。

**重要：修改完这些配置后，一定要点击“保存配置”按钮，或在关闭配置页面时保存，并关闭-再打开聊天机器人（或者至少“开始新对话”）才能让新设置生效。

---
## 2. 记忆管理 (记忆编辑) 🧠

想不想亲手为AI编织记忆，定制你的专属伙伴？请启用这个模块

在CialloChat主页点击“**记忆编辑**”，就可以进入记忆管理系统。

**(PLACEHOLDER)**

在这里，你可以：
* **查看记忆单元 (Memory Units)**：每一条对话、AI的每一次思考，都可能被记录为一个独立的记忆单元。
* **查看会话 (Sessions)**：一次完整的对话流程（从开始到结束或开始新对话）。
* **查看长期记忆 (LTMs)**：AI通过学习和总结对话，沉淀下来的核心知识点。
* **对这些记忆内容进行增加、删除或修改操作。**

**⚠️ 特别重要警告 ⚠️**

* **务必在 Chatbot 完全关闭的状态下进行操作！** 也就是说，你要先确保聊天机器人已经通过“保存并关闭”按钮安全退出了，或者你压根就还没开始任何聊天。否则，你对记忆的修改可能会与正在运行的 AI 发生冲突，导致数据错乱、保存失败，甚至丢失宝贵的聊天记录！
* **操作需谨慎！** 一旦误删了重要记忆，可能就真的找不回来了！同时，该模块正在建设中，可能有尚未发掘的BUG！
---
## 3. 角色信息管理 (角色图谱管理) 🎭

这个功能主要用于管理更深层次、更结构化的角色设定。比如，角色的不同属性（性格特点、掌握的技能、外貌描述等）、角色与角色之间的关系网，以及角色对特定事物的看法和态度（可以理解为超级加倍的“角色卡”）。

在CialloChat主页点击“**角色图谱管理**”。

**(PLACEHOLDER)**

CialloChat来展示角色间的关系，你也可以编辑每个角色的详细资料。
* **添加或删除角色**
* **编辑角色属性**：例如，给角色添加“傲娇”、“天然呆”这样的性格标签，或者“剑术精通”、“厨艺大师”的技能设定。
* **编辑角色观点/想法**：例如，设定角色A对角色B的看法是“虽然嘴上老是斗气，但内心其实很在乎对方”。

这个系统对于塑造和演绎复杂的多角色互动故事非常有帮助。不过，它和“标准查询/回复编辑器”以及底层的角色配置文件（JSON）联系紧密，修改时请务必小心，确保你的设定在逻辑上是自洽的，不会产生矛盾。

**同样，强烈建议在 Chatbot 关闭状态下进行编辑操作，以确保数据完整和安全。**

---

其余功能的介绍将逐步给出。慢慢摸索，你会发现 CialloChat 还有很多有意思的玩法等着你发掘。祝你玩得开心！😊